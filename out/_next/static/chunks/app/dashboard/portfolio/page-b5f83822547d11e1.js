(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[682],{9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},74522:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(62898).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},96761:function(e,t,s){Promise.resolve().then(s.bind(s,8948))},8948:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(57437),l=s(2265),n=s(10732),i=s(9883),r=s(85790),c=s(74522),o=s(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,o.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),m=(0,o.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);function p(){let[e,t]=(0,l.useState)(null),[s,o]=(0,l.useState)(!0),[p,h]=(0,l.useState)(!1),[u,y]=(0,l.useState)({symbol:"",quantity:0,price:0}),f=async()=>{try{o(!0);let e=await fetch("/api/portfolio"),s=await e.json();s.success&&t(s.data)}catch(e){console.error("Error fetching portfolio:",e)}finally{o(!1)}};(0,l.useEffect)(()=>{f()},[]);let j=async e=>{e.preventDefault();try{let e=await fetch("/api/portfolio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"add_position",...u})}),s=await e.json();s.success&&(t(s.data),y({symbol:"",quantity:0,price:0}),h(!1))}catch(e){console.error("Error adding position:",e)}},g=e=>"$".concat(e.toLocaleString());return s?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,a.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-neon-purple border-t-transparent rounded-full"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Portfolio"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Manage your investments and track performance"})]}),(0,a.jsxs)("button",{onClick:()=>h(!p),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-neon-purple to-neon-blue rounded-lg text-white font-medium hover:opacity-90 transition-opacity",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),"Add Position"]})]}),p&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"glass-effect rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Add New Position"}),(0,a.jsxs)("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Symbol"}),(0,a.jsx)("input",{type:"text",value:u.symbol,onChange:e=>y({...u,symbol:e.target.value.toUpperCase()}),placeholder:"e.g., AAPL",className:"w-full px-3 py-2 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-neon-purple",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Quantity"}),(0,a.jsx)("input",{type:"number",value:u.quantity,onChange:e=>y({...u,quantity:Number(e.target.value)}),placeholder:"0",className:"w-full px-3 py-2 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-neon-purple",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Price per Share"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:u.price,onChange:e=>y({...u,price:Number(e.target.value)}),placeholder:"0.00",className:"w-full px-3 py-2 bg-dark-800 border border-dark-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-neon-purple",required:!0})]}),(0,a.jsxs)("div",{className:"md:col-span-3 flex gap-2",children:[(0,a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-gradient-to-r from-neon-purple to-neon-blue rounded-lg text-white font-medium hover:opacity-90 transition-opacity",children:"Add Position"}),(0,a.jsx)("button",{type:"button",onClick:()=>h(!1),className:"px-6 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white font-medium hover:bg-dark-600 transition-colors",children:"Cancel"})]})]})]}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"glass-effect rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-neon-purple/20 rounded-lg",children:(0,a.jsx)(r.Z,{className:"w-6 h-6 text-neon-purple"})}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Total Value"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:g(e.totalValue)}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.totalPnl>=0?(0,a.jsx)(r.Z,{className:"w-4 h-4 text-green-400"}):(0,a.jsx)(c.Z,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(e.totalPnl>=0?"text-green-400":"text-red-400"),children:[e.totalPnl>=0?"+":"",g(e.totalPnl)," (",e.totalPnlPercent.toFixed(2),"%)"]})]})]})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-neon-blue/20 rounded-lg",children:(0,a.jsx)(r.Z,{className:"w-6 h-6 text-neon-blue"})}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Total P&L"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-3xl font-bold ".concat(e.totalPnl>=0?"text-green-400":"text-red-400"),children:[e.totalPnl>=0?"+":"",g(e.totalPnl)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e.totalPnlPercent>=0?"+":"",e.totalPnlPercent.toFixed(2),"% return"]})]})]}),(0,a.jsxs)("div",{className:"glass-effect rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-2 bg-neon-pink/20 rounded-lg",children:(0,a.jsx)(d,{className:"w-6 h-6 text-neon-pink"})}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Positions"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-white",children:e.positions.length}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Active positions"})]})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"glass-effect rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Positions"}),e.positions.length>0?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-dark-600",children:[(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-300",children:"Symbol"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-300",children:"Quantity"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-300",children:"Avg Price"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-300",children:"Current Price"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-300",children:"Value"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-300",children:"P&L"}),(0,a.jsx)("th",{className:"text-left py-3 px-4 text-sm font-medium text-gray-300",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:e.positions.map((e,t)=>(0,a.jsxs)(n.E.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"border-b border-dark-700/50 hover:bg-dark-700/30 transition-colors",children:[(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-white",children:e.symbol}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.name})]})}),(0,a.jsx)("td",{className:"py-3 px-4 text-white",children:e.quantity}),(0,a.jsx)("td",{className:"py-3 px-4 text-white",children:g(e.avgPrice)}),(0,a.jsx)("td",{className:"py-3 px-4 text-white",children:g(e.currentPrice)}),(0,a.jsx)("td",{className:"py-3 px-4 text-white",children:g(e.value)}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.pnl>=0?(0,a.jsx)(r.Z,{className:"w-4 h-4 text-green-400"}):(0,a.jsx)(c.Z,{className:"w-4 h-4 text-red-400"}),(0,a.jsxs)("span",{className:"font-medium ".concat(e.pnl>=0?"text-green-400":"text-red-400"),children:[e.pnl>=0?"+":"",g(e.pnl)," (",e.pnlPercent.toFixed(2),"%)"]})]})}),(0,a.jsx)("td",{className:"py-3 px-4",children:(0,a.jsx)("button",{className:"p-1 text-red-400 hover:text-red-300 transition-colors",children:(0,a.jsx)(x,{className:"w-4 h-4"})})})]},e.symbol))})]})}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(m,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No positions found"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Add your first position to get started"})]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"glass-effect rounded-xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Watchlist"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.watchlist.map((e,t)=>(0,a.jsx)(n.E.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.05*t},className:"px-3 py-1 bg-dark-700 rounded-full text-sm text-gray-300 hover:text-white hover:bg-dark-600 transition-colors cursor-pointer",children:e},e))})]})]})]})}}},function(e){e.O(0,[135,478,938,744],function(){return e(e.s=96761)}),_N_E=e.O()}]);